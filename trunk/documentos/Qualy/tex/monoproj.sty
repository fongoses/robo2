%==========================================================
% Pacote monoproj.sty
% 
% Pacote LaTeX para fazer a monografia de qualificação de
% mestrado.
% 
% Autor
% Heitor Luis Polidoro
% 
% Adaptado dos Autores
% Adriano Arantes Paterlini
% Fabio Jun Takada Chino
% Humberto Luis Hazente
%==========================================================

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{monoproj}


%--------------------------------------------------------
% Pacotes
%--------------------------------------------------------

\usepackage[brazil]{babel}
\usepackage[latin1]{inputenc}
\usepackage[pdftex]{graphicx}
\usepackage[pdftex]{geometry}
\usepackage{indentfirst}
\usepackage[T1]{fontenc}
\usepackage{ae}
\usepackage{setspaceb}
\usepackage{titlesec}
\usepackage{textfit}
\usepackage{url}
%\usepackage{amsmath, amsthm, amssymb}
\usepackage{algorithmic}
\usepackage[ruled]{algorithm}
\usepackage{wrapfig}
\usepackage{notescnd}
\usepackage{boxedminipage}
\usepackage{cite}


%--------------------------------------------------------
% Configuracao da Pagina
%--------------------------------------------------------

\geometry{a4paper,left=3cm,right=2cm,top=3cm,bottom=2cm,twoside=true}
\linespread{1.3}
\setlength{\parskip}{0.5cm plus 0.1cm minus 0.1cm}
\setlength{\parindent}{1.5cm}


%--------------------------------------------------------
% Comandos do Pacote
%--------------------------------------------------------

\def\@title{Sem Título}
\def\@author{Sem Autor}

\newcommand{\@supervisor}{}

\newcommand{\supervisor}[1] {
  \def\@supervisor{#1}
}

\newcommand{\@concarea}{}

\newcommand{\concarea}[1] {
  \def\@concarea{#1}
}

\newcommand{\monotype}[0]{
Monografia apresentada ao Instituto de Ciências Matemáticas e de
Computação - ICMC-USP, para o Exame de Qualificação, como parte dos
requisitos necessários à obtenção do título de Mestre em Ciências de
Computação e Matemática Computacional.
}

% Capa e Folha de Rosto
\renewcommand{\maketitle}[0]{
  {
  \thispagestyle{empty}
  \begin{center}
    {\bf \large \textsc{UNIVERSIDADE DE SÃO PAULO}}\\
    {\bf \textsc{INSTITUTO DE CIÊNCIAS MATEMÁTICAS E DE COMPUTAÇÃO}}\\
    \vspace*{5cm}
    \rule[1cm]{\textwidth}{0.5pt}
    {\Huge \bf \@title}\\
    \vspace*{2cm}
    {\bf \@author}\\
    \vspace*{1cm}
    \rule [1cm]{\textwidth}{0.5pt}
    \vspace*{5cm}\\
    \includegraphics[scale=0.5]{../imagens/icmc.png}\\
    \@date
  \end{center}
  \newpage
  \thispagestyle{empty}
  \begin{center}
    \vspace*{2cm}
    {\Huge \bf \@title}\\
    \vspace*{2cm}
    {\bf \@author}\\
    \vspace*{2cm}
    {\bf Orientador: }
    \@supervisor \\
    \vspace*{2cm}
    \begin{flushright}
      \begin{minipage}[t]{9.8cm}
        \footnotesize
        \monotype
	\\
	{\bf Área de Concentração: }\\
	\@concarea
      \end{minipage}
    \end{flushright}
    \vspace*{6cm}
    \@date
  \end{center}
  \newpage
  }
}

% Titulo do capitulo
\titleformat{\chapter}[display]
    {\singlespacing % espaçamento simples entre linhas
      \hfill\rule{.8\textwidth}{0.5pt}\\ \vskip 0.5ex % linha superior
      \filleft \sffamily \Huge } %\hrulefill}
     {\begin{tabular}{|c|}
         \rowcolor{black}
         \hline \color{white} \large \scshape {\bf \chaptername} \\
         \vspace{-2ex} \\ %espaço entre o título e o número
         \Huge \scaletoheight{1cm}{\thechapter} \\ \hline
      \end{tabular}
     }
     {8pt}
     {\Huge \bfseries \filleft}
    [\hfill\rule{\textwidth}{0.5pt}\\
    \vskip-2.1ex\hfill\rule{\textwidth}{2pt}\\
    \vskip 0.1ex]

% Estilos de Pagina
\renewcommand{\ps@plain}{%
     \renewcommand{\@oddhead}{}
     \renewcommand{\@evenhead}{}
     \renewcommand{\@evenfoot}{\hfil\textnormal{\textbf{\thepage}}\hfil}
     \renewcommand{\@oddfoot}{\@evenfoot}
     }

  \newpagestyle{chapterst}[\normalsize]{
   \headrule
   \sethead[\textit{\textbf{\chaptername~\thechapter~-~\chaptertitle}}][][\textbf{\thepage}]
   {\textit{\textbf{\thesection~\sectiontitle}}}{}{\textbf{\thepage}}
   \setfoot{}{}{}
  } % fim 

\newpagestyle{abstractst}[\normalsize]{
   \headrule
   \sethead[][][\textbf{\textit{\chaptertitle}}]
   {}{}{\textbf{\textit{\chaptertitle}}}
   \setfoot{}{\textnormal{\textbf{\thepage}}}{}
  } % fim 

% OBS: Talvez precise mudar!
\newpagestyle{referencest}[\normalsize]{
   \headrule
   \sethead[\textbf{\textit{\chaptertitle}}][][\textbf{\thepage}]
   {\textbf{\textit{\chaptertitle}}}{}{\textbf{\thepage}}
   \setfoot{}{}{}
  } % fim 

% Comando para zerar contadores de pagina
\renewcommand{\cleardoublepage}{\clearpage}

% comando para inserir e formatar uma figura ao texto
% sintaxe:  \figura{arquivo}{escala}{caption}{label}
% exemplo:  \figura{logo.png}{0.5}{Simbolo do MySQL.}{fig:simbolomysql}
\newcommand{\figura}[4] {
    \begin{figure}[!htbp]
        \centering
         \includegraphics[scale=#2]{#1}
         \caption{#3}
         \label{#4}
     \end{figure}
}

% Apêndices
\let\oldappendix\appendix
\renewcommand{\appendix}{
    \oldappendix
    \renewcommand{\chaptername}{Apêndice}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Estilo de Primeira Letra do Capítulo
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\font\largefont= pzcmi scaled 6500
\font\numberfont= pzcmi scaled 4500
\newcommand{\versal}[1]{{\noindent
\setbox0\hbox{\largefont #1 }%
\count0=\ht0                   % height of versal
\count1=\baselineskip          % baselineskip
\divide\count0 by \count1      % versal height/baselineskip
\dimen1 = \count0\baselineskip % distance to drop versal
\advance\count0 by 1\relax     % no of indented lines
\dimen0=\wd0                   % width of versal
\global\hangindent\dimen0      % set indentation distance
\global\hangafter-\count0      % set no of indented lines
\hskip-\dimen0\setbox0\hbox to\dimen0{\raise-\dimen1\box0\hss}%
\dp0=0in\ht0=0in\box0}}
%--- Fim - Estilo de Primeira Letra do Capítulo-----------------------------------
%---------------------------------------------------------------------------------
